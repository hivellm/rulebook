#!/bin/sh
# Java Pre-Commit Hook
# Generated by @hivellm/rulebook

echo "ğŸ” Running Java pre-commit checks..."

if [ -f "pom.xml" ]; then
  echo "  â†’ Maven checks..."
  
  # Format check
  mvn spotless:check || {
    echo "âŒ Format check failed. Run: mvn spotless:apply"
    exit 1
  }
  
  # Verify
  mvn verify || {
    echo "âŒ Maven verify failed"
    exit 1
  }
  
elif [ -f "build.gradle" ] || [ -f "build.gradle.kts" ]; then
  echo "  â†’ Gradle checks..."
  
  # Check
  ./gradlew check || {
    echo "âŒ Gradle check failed"
    exit 1
  }
fi

echo "âœ… All Java pre-commit checks passed!"
exit 0

