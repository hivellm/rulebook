#!/bin/sh
# Dart Pre-Push Hook
# Generated by @hivellm/rulebook

echo "ğŸš€ Running Dart pre-push checks..."

# Full test suite with coverage
echo "  â†’ Running tests with coverage..."
dart test --coverage=coverage || {
  echo "âŒ Tests failed"
  exit 1
}

# If Flutter project
if grep -q "flutter:" pubspec.yaml 2>/dev/null; then
  echo "  â†’ Running Flutter tests..."
  flutter test || {
    echo "âŒ Flutter tests failed"
    exit 1
  }
fi

echo "âœ… All Dart pre-push checks passed!"
exit 0

