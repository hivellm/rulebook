#!/bin/sh
# Python Pre-Commit Hook
# Generated by @hivellm/rulebook

echo "ğŸ” Running Python pre-commit checks..."

# Format check
if command -v black &> /dev/null; then
  echo "  â†’ Format checking..."
  black --check . || {
    echo "âŒ Format check failed. Run: black ."
    exit 1
  }
fi

# Lint
if command -v ruff &> /dev/null; then
  echo "  â†’ Linting with Ruff..."
  ruff check . || {
    echo "âŒ Ruff check failed"
    exit 1
  }
elif command -v flake8 &> /dev/null; then
  echo "  â†’ Linting with Flake8..."
  flake8 . || {
    echo "âŒ Flake8 check failed"
    exit 1
  }
fi

# Type check
if command -v mypy &> /dev/null; then
  echo "  â†’ Type checking..."
  mypy . || {
    echo "âŒ Type check failed"
    exit 1
  }
fi

# Tests
if command -v pytest &> /dev/null; then
  echo "  â†’ Running tests..."
  pytest || {
    echo "âŒ Tests failed"
    exit 1
  }
fi

echo "âœ… All Python pre-commit checks passed!"
exit 0

