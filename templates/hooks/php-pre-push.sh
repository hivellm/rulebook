#!/bin/sh
# PHP Pre-Push Hook
# Generated by @hivellm/rulebook

echo "ğŸš€ Running PHP pre-push checks..."

# Full test suite
if command -v phpunit &> /dev/null; then
  echo "  â†’ Running full test suite..."
  phpunit --coverage-text || {
    echo "âŒ Tests or coverage failed"
    exit 1
  }
fi

# Security check
if command -v composer &> /dev/null; then
  echo "  â†’ Security audit..."
  composer audit || {
    echo "âš ï¸  Security vulnerabilities found"
  }
fi

echo "âœ… All PHP pre-push checks passed!"
exit 0

