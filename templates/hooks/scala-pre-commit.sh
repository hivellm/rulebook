#!/bin/sh
# Scala Pre-Commit Hook
# Generated by @hivellm/rulebook

echo "ğŸ” Running Scala pre-commit checks..."

# Format check
echo "  â†’ Format checking..."
sbt scalafmtCheckAll || {
  echo "âŒ Format check failed. Run: sbt scalafmtAll"
  exit 1
}

# Lint (if scalafix configured)
if sbt tasks | grep -q scalafix; then
  echo "  â†’ Linting..."
  sbt "scalafix --check" || {
    echo "âŒ Scalafix failed"
    exit 1
  }
fi

# Tests
echo "  â†’ Running tests..."
sbt test || {
  echo "âŒ Tests failed"
  exit 1
}

echo "âœ… All Scala pre-commit checks passed!"
exit 0

