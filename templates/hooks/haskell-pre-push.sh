#!/bin/sh
# Haskell Pre-Push Hook
# Generated by @hivellm/rulebook

echo "ğŸš€ Running Haskell pre-push checks..."

# Build
echo "  â†’ Building..."
if [ -f "stack.yaml" ]; then
  stack build || {
    echo "âŒ Build failed"
    exit 1
  }
  
  # Full tests
  echo "  â†’ Running full test suite..."
  stack test || {
    echo "âŒ Tests failed"
    exit 1
  }
else
  cabal build || {
    echo "âŒ Build failed"
    exit 1
  }
  
  # Full tests
  echo "  â†’ Running full test suite..."
  cabal test || {
    echo "âŒ Tests failed"
    exit 1
  }
fi

echo "âœ… All Haskell pre-push checks passed!"
exit 0

