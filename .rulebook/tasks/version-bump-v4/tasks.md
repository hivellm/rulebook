## 1. Implementation
- [ ] 1.1 Bump package.json version to 4.0.0
- [ ] 1.2 Update .claude-plugin/plugin.json and marketplace.json to 4.0.0
- [ ] 1.3 Update version fallbacks in commands.ts and config-manager.ts
- [ ] 1.4 Add v3 -> v4 migration logic in config-manager.ts (handle config changes)
- [ ] 1.5 Update MCP server version in rulebook-server.ts

## 2. Testing
- [ ] 2.1 Write test: v3 config migrates cleanly to v4 format
- [ ] 2.2 Verify all version references are consistent

## 3. Documentation
- [ ] 3.1 Write CHANGELOG.md entry for v4.0.0
- [ ] 3.2 Update README.md with v4 features overview
