# Tasks: Health Scorer v2

- [ ] Read full `src/core/health-scorer.ts` to understand current scoring
- [ ] Update `HealthScore` type in `src/types.ts` with detailed breakdown fields
- [ ] Implement `measureAgentsMdQuality(agentsMdPath)`:
  - [ ] Word count → score
  - [ ] Count `.rulebook/specs/` references → bonus
  - [ ] Check for required sections (ralph, quality, git) → bonus
- [ ] Implement `measureTestQuality(projectRoot)`:
  - [ ] Count test files and individual test cases
  - [ ] Read vitest coverage summary if available
  - [ ] Score based on test count and coverage %
- [ ] Implement `measureReadmeQuality(readmePath)`:
  - [ ] Count sections (## headings)
  - [ ] Check for required sections (install, usage, contributing)
  - [ ] Detect placeholder content ("TODO", "Coming soon")
- [ ] Implement `measureRalphQuality(projectRoot)`:
  - [ ] Count completed stories vs total
  - [ ] Score based on pass rate
- [ ] Implement `measureMemoryActivity(projectRoot)`:
  - [ ] Check memory.db exists and has records
  - [ ] Score based on memory count
- [ ] Rewrite `calculateHealthScore()` to use new metrics
- [ ] Add letter grade calculation (A=90+, B=80+, C=70+, D=60+, F=<60)
- [ ] Add actionable recommendations array based on low scores
- [ ] Update `rulebook health` CLI output to show breakdown
- [ ] Update all health-scorer tests to match new scoring
- [ ] Run full test suite
